<properties
   pageTitle="Ponovite opće smjernice | Microsoft Azure"
   description="Smjernice o pokušaj za rukovanje tranzitne kvara."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="retry-general-guidance"></a>Ponovite opće smjernice

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="overview"></a>Pregled

Sve aplikacije komunikaciju servise udaljene i resursima mora biti osjetljivi na tranzitne kvarove. To je osobito slučaj za aplikacije koji se izvode u oblaku, gdje prirode okruženju i Povezivost putem Interneta znači ove vrste kvarove vjerojatno će se pojavljivati češće. Tranzitne kvarove uključuju momentary gubitak veza s mrežom komponente i servisima, privremene nedostupnosti servisa ili vremenska ograničenja koja dolazi kada je servis zauzet. Ove kvarove često su koja se sama korektivne, a ako akcija se ponavlja nakon odgovarajuću odgode je vjerojatno uspjeti.

Ovaj dokument pokriva opće smjernice za rukovanje tranzitne kvara. Informacije o rukovanje tranzitne kvarove prilikom korištenja servisa Microsoft Azure potražite u članku [smjernice ponovno pokušajte Azure specifične za servis](best-practices-retry-service-specific.md).

## <a name="why-do-transient-faults-occur-in-the-cloud"></a>Zašto se tranzitne kvarove pojaviti u oblaku?

Tranzitne kvarove može se pojaviti u bilo kojem okruženju, na bilo koju platformu ili operacijski sustav i u bilo koju vrstu aplikacije. U rješenja da se izvoditi na lokalni, infrastruktura za lokalni, performanse i dostupnosti aplikacija i njegove komponente je obično održavaju kroz zalihosti pozivnim hardverski često u odjeljku korištenja i komponente i resursima koja se nalazi blizu svaki drugi. Dok Ovime pogreške manje vjerojatno, može i dalje se dogoditi tranzitne kvarove - a čak i na nedostupnosti do neočekivane događaje kao što su vanjski napajanja ili problema s mrežom ili drugim situacijama Izrada.

Oblak hostiranje, uključujući sustave privatne oblaka, može ponuditi veća dostupnost cjelokupan korištenjem zajedničkih resursa, zalihosti, automatsko prebacivanje i dodjela resursa za dinamičku preko veliki broj obavješćivanje računalnim čvorove. Međutim, priroda te okruženja u kojima se može značiti jesu li tranzitne kvarove vjerojatno će se pojaviti. Postoji nekoliko mogućih razloga za to:

* Mnogo resursa u okruženje oblaka se zajednički koriste i pristup sljedećim resursima podložni ograničavanja resursa za zaštitu. Neki servisi će odbiti veze kada opterećenje dolazi određenoj razini ili propusnost Maksimalna brzina je dostigne, da bi korisnicima omogućuju obrade zahtjeva za postojeće te da biste zadržali performanse pružanja usluge za sve korisnike. Ograničavanje pomaže da biste zadržali kvalitete pružanja usluge za susjeda i drugim korisnicima pomoću zajedničkim resursom.
* Oblak okruženja ugrađenih pomoću veliku brojeva obavješćivanje hardver jedinice. Oni izlaganje performanse dinamički raspodijeliti opterećenje preko više računalnih jedinice i komponente Infrastruktura i izlaganje pouzdanosti automatski recikliranje ili zamjene nije uspjelo jedinice. Ovaj dinamički prirode znači da tranzitne kvarove i privremene veze pogreške možda ponekad pojaviti.
* Često su dodatne hardverske komponente, uključujući mrežne infrastrukture kao što su usmjerivača i učitavanje balancers, između aplikacija i resursa i servise koji se koristi. U ovom dodatna Infrastruktura možete povremeno predstavljanje dodatnu vezu Latencija kvarove tranzitne veze.
* Mrežni uvjeti između klijenta i poslužitelja možda varijable, osobito kada komunikacije Presjek s Internetom. Čak i na mjestima na lokalni vrlo velike promet opterećenje može usporiti komunikacije i uzrokovati pogreške Povremeni veze.

## <a name="challenges"></a>Izazove
Tranzitne kvarove mogu imati veliki utjecaj na dojam dostupnost aplikacije, čak i ako je temeljito testirano okolnostima sve foreseeable. Da biste osigurali pouzdano funkcioniranje oblaka hostirane aplikacije, moraju biti može odgovoriti na izazove sljedeće:

* Aplikacija moraju imati mogućnost da biste otkrili kvarove kada se pojavljuju te odrediti te kvarove vjerojatno će biti tranzitne, više dugu-traju ili su terminal pogreške. Da biste se vratili različite odgovora kada se pojavljuje u kvara, a te odgovore također mogu se razlikovati ovisno o kontekstu operacije; vjerojatno drugi resursi na primjer, odgovor pogreške prilikom čitanja sa servisa za pohranu mogu se razlikovati od odgovor pogreške prilikom pisanja prostora za pohranu. Mnogo resursa i usluge imati dobro dokumentovan tranzitne neuspjeh ugovora. Međutim, gdje takve informacije nije dostupna, može biti teško da biste otkrili prirode kvara i je li to vjerojatno će biti tranzitne.
* Aplikacija moraju imati mogućnost ponovite postupak ako određuje je li kvara vjerojatno će biti tranzitne i praćenje koliko je puta postupak je ponoviti.
* Aplikacija morate koristiti odgovarajući Strategije za na ponovne pokušaje. U ovom strategije određuje koliko je puta je potrebno ponovno pokušajte, razmak između svakog pokušaj i akcije koje treba poduzeti nakon nije uspio pokušaj. Odgovarajući broj pokušaja i razmak između svaki od njih često je teško odrediti i razlikuju se ovisno o vrsti resursa, kao i trenutni uvjeti za operacijske resursa i same aplikacije.

## <a name="general-guidelines"></a>Opće smjernice
Sljedeće se smjernice omogućit će vam dizajnirati odgovarajuću tranzitne kvara ne mehanizam za aplikacije:

* **Određuje je ugrađene pokušaj mehanizam:**
  * Mnoge servise pružaju SDK ili klijenta biblioteku koja sadrži tranzitne kvara rukovanje mehanizam. Pravila Ponovi koristi obično konkretne prirode i preduvjeti servisa cilj. Osim toga, OSTALE sučelje za usluge može vratiti informacije koje su korisne prilikom određivanja li na pokušaj odgovarajuća i koliko čekanja prije sljedeći pokušaj pokušajte ponovno.
  * Pomoću ugrađenih pokušaj mehanizam gdje je dostupna samo ako su određenih i dobro prihvaćeni preduvjete koje znači da je drugi pokušaj ponašanje prikladnije.
* **Određivanje ako je operacija prikladna za ponovni**:
  * Samo treba ponovno operacije gdje se na kvarove tranzitne (obično označenu vrste pogreške), a ako je barem neke vjerojatnost koja postupak neće uspjeti kada reattempted. Ne postoji točka u reattempting operacije koje označavaju operacije koji nisu valjani, kao što su baze podataka ažuriranje stavke koja ne postoji ili zahtjeve za uslugu ili resurs koji sadrži suffered kobne pogreške
  * Općenito govoreći, trebali biste provesti ponovne pokušaje samo gdje cijelog utjecaj mogu se odrediti i uvjete sasvim jasna i može se provjeriti. Ako nije, ostavite ga pokrenuti kod za implementaciju ponovne pokušaje. Zapamtite da pogreške vratio resurse i servisima izvan vaše kontrole možda poslovanja tijekom vremena, a možda ćete morati ponovo posjetite logiku otkrivanje tranzitne kvara.
  * Kada stvarate usluge i komponente, razmislite o implementacijom kodovi pogrešaka i poruke koji će pomoći klijenti odrediti je li potrebno ponovite neuspjele operacije. Posebno označavaju Ako klijent treba ponovite operaciju (možda vraćanjem vrijednost **isTransient** ) te Predloži odgovarajuću odgode sljedeći pokušaj pokušajte ponovno. Ako stvaranja web-servisa, preporučujemo Vraćanje prilagođene pogreške definirani unutar vaše ugovorima. Iako generički klijenti možda nećete moći čitati te, oni će biti korisno kada stvaranje prilagođenih klijente.
* **Utvrdite broj odgovarajuće pokušaj i intervala:**
  * Je ključan optimiziranje pokušaj count i interval vrsti koristi slučaj. Ako ne ponovite dovoljno broj puta, aplikacija neće biti moguće da biste dovršili postupak i vjerojatno će se pojaviti pogreška. Ako se ponovno pokušajte Premašili broj pokušaja ili s premalen interval između pokuša, aplikacija potencijalno mogu sadržavati resurse kao što su niti, veze i memorije za dugačke razdoblja koja će negativno utjecati na stanje aplikacije.
  * Odgovarajuće vrijednosti za razdoblje i broj pokušaja pokušaj ovise o vrsti postupka u tijeku pokušaj. Ako, na primjer, ako je operacija dio interakcije s korisnikom, interval mora biti kratki i samo nekoliko ponovne pokušaje pokušaj da biste izbjegli korisnici čekanje odgovora (koji sadrži otvorite veze i možete smanjiti dostupnosti za druge korisnike). Ako je operacija dio dugo izvodi ili ključnih tijeka rada, pri čemu otkazivanja i ponovno pokrenite postupak je pozivnim ili dugotrajan, je pravo vrijeme čekanja više između pokušaja i ponovno pokušajte više puta.
  * Određivanje odgovarajućim intervalima između ponovne pokušaje je najčešće teško dio dizajniranje uspješno strategija. Uobičajeni strategije koristite sljedeće vrste intervalu ponovnog pokušaja:
      * **Eksponencijalna vrijednost natrag isključeno**. Aplikacija ne čeka kratko vrijeme prije nego što prvi pokušaj i eksponencijalno povećanje puta između svakog kasnije pokušajte ponovno. Ako, na primjer, ga mogu ponoviti postupak nakon tri sekunde, 12 sekundi, 30 sekundi i tako dalje.
      * **Rastuća vremenskim razmacima**. Aplikacija ne čeka kratko vrijeme prije nego što prvi pokušaj i postupno povećanje puta između svakog kasnije pokušajte ponovno. Ako, na primjer, ga mogu ponoviti postupak nakon tri sekunde, 7 sekundi, 13 sekundi i tako dalje.
      * **Pravilnim vremenskim razmacima**. Aplikacija ne čeka za isto razdoblje između svakog pokušaja. Ako, na primjer, ga ponovno operacija svaki tri sekunde.
      * **Pokušajte ponovno izvršnom**. Ponekad tranzitne kvara je iznimno kratki možda uzrokuje događaja kao što su kolizije paketa mreže ili šiljka hardver komponente. U ovom slučaju odmah ponovni postupak je odgovarajući jer se može biti uspješan ako je kvara poništeni na vrijeme potrebno aplikacije za sastavljanje i pošaljite zahtjev za sljedeće. Međutim, nikad ne treba više odmah Ponovi pokušaj i trebali biste prijeđete na zamjenski strategije, kao što su kao što su eksponencijalne natrag slobodno ili pričuvni Akcije, odmah pokušaj ne uspije.
      * **Randomization**. Bilo koji od pokušaj strategije naveden može obuhvaćati randomization da biste spriječili više instanci u klijentu prilikom pokušaja kasnije pokušaj u isto vrijeme slanja. Ako, na primjer, možda jednu instancu ponovno pokušajte postupak nakon tri sekunde, 11 sekundi, 28 sekundi i tako dalje dok drugu instancu mogu ponoviti postupak nakon 4 sekunde, 12 sekundi, 26 sekundi i tako dalje. Randomization je korisno postupak koji mogu se kombinirati s drugim strategije.  
  * Općenito smjernica, pomoću eksponencijalne strategije isključivanje natrag za operacije pozadine i odmah ili običnih interval pokušaj strategije interaktivne operacije. U oba slučaja, trebali biste odabrati odgode i broj ponovnih pokušaja tako da maksimalno Latencija za sve ponovnim pokušajima nalazi unutar obavezne potrebna Latencija završetka do kraja.
  * Uzimaju u obzir kombinaciju čimbenici koje pridonose ukupni Maksimalno vremensko ograničenje za koje je postupak ponovljen postupak. Sljedećih čimbenika uvrstiti na vrijeme potrebno za nije uspjelo povezivanje čime se dobiva odgovor (obično postavio vremensko ograničenje vrijednost u klijentskom) kao i razmak između pokušaja pokušaj i najveći je broj ponovne pokušaje. Ukupni iznos ta vremena može rezultirati vrlo velike cjelokupan operacija radno vrijeme, osobito kada pomoću programa eksponencijalne odgode strategije gdje ponovnih pokušaja interval između rastom hitro nakon svakog nije uspjelo. Ako procesa mora zadovoljiti ugovor razine određene usluge (SLA), ukupno vrijeme operacija, uključujući sve vremenska ograničenja i kašnjenja mora biti unutar koji definirano u na SLA
  * Strategije over-aggressive pokušaj koji sadrže premalen intervalima ili previše možda ponovnih pokušaja može imati posljedice na ciljnom resursa ili servis. To može onemogućiti resursa ili servis za oporavak u stanje prepun, a on će i dalje da biste blokirali ili odbiti zahtjeve. Ovo rezultira kruga vicious gdje više zahtjevi za poslati resursa ili servis, a zbog sposobnost da biste oporavili dodatno smanjiti.
  * Iskoristite račun vremensko ograničenje od operacija prilikom odabira intervala Ponovi da biste izbjegli pokretanje narednih pokušaja odmah (na primjer, ako je slična interval pokušaj isteklo razdoblje). Preporučuje se i ako morate zadržati Ukupno moguće razdoblje (vremensko ograničenje plus intervale pokušaj) da biste ispod određene Ukupno vrijeme. Operacije koje ste neuobičajeno kratko ili dugo vremensko ograničenje može utjecati koliko na čekanje i koliko često treba ponovite postupak.
  * Vrstu iznimku i sve podatke u njemu ili kodovi pogrešaka i poruke koje vraća servisa, koristite da biste optimizirali interval i broj ponovne pokušaje. Primjer, neke iznimke ili pogreške šifre (kao što su HTTP kod 503 Servis nije dostupan sa zaglavljem pokušaj nakon u odgovoru) mogu upućivati koliko možda zadnji pogrešku ili koji servis nije uspjela i će odgovoriti na bilo kojem narednih pokušaja.
* **Izbjegavajte protiv uzorke**:
  * U Većina slučajeva, izbjegavajte implementacije koji sadrže dupliciranu Slojevi kod pokušajte ponovno. Izbjegavanje dizajne koji uključuje oblikovanih pokušaj mehanizme ili koji implementira pokušaj u svakoj fazi postupak koji uključuje hijerarhije zahtjeva, osim ako imate preduvjete koje zahtijevaju ovog. U sljedećim okolnostima izvanredne pomoću pravila koja će spriječiti viškom broja ponovne pokušaje i razdoblja odgode i provjerili rezultate. Na primjer, ako jednu komponentu izvrši zahtjev na drugu, koji se zatim pristupa servis cilj i implementirati pokušaj s tri na oba poziva prikazat će se devet ponovno pokušajte se pokušava u zbroj za servis. Mnoge usluge i resurse implementirati ugrađene pokušaj mehanizam i treba istražiti kako možete onemogućiti ili izmjena Ako morate provesti ponovne pokušaje više razine.
  *  Nikad ne implementirati mehanizam za neograničene pokušajte ponovno. Vjerojatno će spriječiti resursa ili servis za oporavak u slučajevima preopterećenja, zbog čega ograničavanje i odbio veze da biste nastavili za dulje razdoblje. Pomoću konačne broj ili ponovne pokušaje ili pak implementirati uzorak kao što je [elektronička prepoznavanje](http://msdn.microsoft.com/library/dn589784.aspx) da biste omogućili servis za oporavak.
  * Nikada više puta izvršiti odmah pokušajte ponovno.
  * Izbjegavajte interval običnog pokušaj osobito kada imate velik broj pokušaja pokušaj prilikom pristupanja servisima i resursa u Azure. Najbolju pristup je scenarij stvaranje eksponencijalne natrag isključivanje strategije s mogućnošću za elektronička važne.
  * Onemogućite više instanci u istom klijentu ili više instanci različite klijenata, šalje ponovne pokušaje isti vrijeme. Ako je to vjerojatno će se pojaviti, predstavljanje randomization u intervale pokušajte ponovno.
* **Testiranje pokušaj strategije i implementaciju:**
  * Provjerite je li potpuno testirate implementaciju strategija pokušaj u odjeljku kao široko skup okolnostima kao što je to moguće, osobito kada su ekstremne opterećenju i aplikacija i resursa na ciljnom ili servisima sustava koristi. Da biste provjerili ponašanje tijekom testiranja, možete učiniti sljedeće:
      * Ubaci tranzitne i koje nisu prolaznim kvarove na servis. Ako, na primjer, Pošalji zahtjeve za koji nisu valjani ili dodati kod koji otkrije test zahtjeve i Odgovori s različitim vrstama pogrešaka. Na primjer pomoću TestApi, potražite u članku [Kvara unos testiranjem TestApi](http://msdn.microsoft.com/magazine/ff898404.aspx) i [Uvod u TestApi – dio 5: upravljani kod kvara unos API-ji](http://blogs.msdn.com/b/ivo_manolov/archive/2009/11/25/9928447.aspx).
      * Stvaranje mock resursa ili servis koji vraća raspon pogreške koje se može vratiti realni servisa. Provjerite je li pokriva sve vrste pogreške namijenjen strategije Ponovi da biste otkrili.
      * Prisilna Primjena tranzitne pogreške pojavljivati privremeno onemogućivanje ili preopterećenje servis je prilagođene servis koji ste stvorili i implementirati (koje treba ne, Naravno, pokušajte preopterećenja sve zajedničke resurse ili usluge unutar Azure za zajedničko korištenje).
      * Za koji se temelji na HTTP API-ji, preporučujemo da koristite FiddlerCore biblioteke u automatiziranog testiranja da biste promijenili rezultat HTTP zahtjeva dodavanjem dodatni roundtrip vremena ili promjenom odgovora (primjerice HTTP kod stanja, zaglavlja, tijelo ili Ostali čimbenici). To omogućuje deterministic testiranje podskup uvjeta nije uspjelo li tranzitne kvarove ili druge vrste nije uspjelo. Dodatne informacije potražite u članku [FiddlerCore](http://www.telerik.com/fiddler/fiddlercore). Primjer kako koristiti biblioteku, osobito klase **HttpMangler** , pregledajte [izvornog koda za pohranu SDK Azure](https://github.com/Azure/azure-storage-net/tree/master/Test).
      * Izvođenje faktor visoke opterećenja i Istodobni testira Pobrinite se da pokušaj mehanizam i strategije funkcionira ispravno ispunjavate sljedeće uvjete i ne su posljedice operaciju klijent ili uzrokuju unakrsno contamination između zahtjeva.
* **Upravljanje konfiguracije pravila Ponovi:**
  * Kombinacija svih elemenata strategiju Ponovi na _ponovite pravila_ je. Definira mehanizam za otkrivanje koji određuje je li u kvara vjerojatno će biti tranzitne, vrstu interval koristite (kao što su uobičajeni, eksponencijalne natrag slobodno i randomization), stvarni interval vrijednosti i koliko je puta pokušati.
  * Ponovne pokušaje mora se implementirati na mnogim mjestima u čak i najjednostavnije aplikacije i u svaki sloj složenije aplikacije. Umjesto kodiranje elementi svakog pravila na više mjesta, razmislite o korištenju Središnja točka za pohranu sva pravila. Ako, na primjer, spremanje vrijednosti kao što su interval i ponovite broj na datoteka konfiguracije aplikacije, čitate prilikom izvođenja i programski izraditi pravila Ponovi. To olakšava da biste upravljali postavkama, a za izmjenu i precizno podešavanje vrijednosti da bi se promjenama preduvjeti i scenarijima. Međutim, dizajna sustava pohranu vrijednosti umjesto rereading konfiguraciju arhivirati svaki put i provjerite je li odgovarajuću zadane vrijednosti koriste ako vrijednosti nije moguće dohvatiti iz konfiguracije.
  * U aplikaciji Azure servise u Oblaku, razmislite o spremanju vrijednosti koje se koriste za stvaranje pravila Ponovi prilikom izvođenja u konfiguracijskoj datoteci servisa tako da mogu se promijeniti bez obzira na to ponovno pokrenite aplikaciju.
  * Iskoristite prednost ugrađeni ili zadani pokušaj strategije dostupni u klijentu API-ji koristite, ali samo gdje se nalazili prikladno za vašu situaciju. Ove strategije su obično općenite namjene. U nekim slučajevima možda će se sve što je potrebno, ali u drugim situacijama ih može ponuditi široka lepeza mogućnosti u skladu s određenim potrebama. Morate razumjeti kako postavke utjecat će na aplikaciju putem testiranje da biste odredili najprikladnije vrijednosti.
* **Prijavite se i praćenje tranzitne i koje nisu prolaznim kvarove:**
  * Kao dio strategije pokušaj uključuju rukovanje iznimku i druge instrumentation koji zapisuje kada se prilikom pokušaja pokušaj. Dok Povremeni tranzitne pogreške i pokušajte ponovno da biste očekivali, i označavanje brojeve ponovne pokušaje problem, običnog i povećavati često su pokazatelj problem koji može uzrokovati pogreške ili je trenutno koje utječu na performanse računala i dostupnost.
  * Prijavite se da bi se nadzora sustavi ne otkriva ih kao pogreške aplikacije koje se može pokrenuti false upozorenja tranzitne kvarove kao upozorenje stavke umjesto stavke pogrešaka.
  * Razmislite o spremanju vrijednost u unose zapisnika koja pokazuje ako na ponovne pokušaje su zbog pomoću ograničavanje u servisu ili druge vrste kvarove kao što su pogreške vezu tako da ih mogli razlikovati tijekom analize podataka. Povećava broj regulacije pogrešaka često je pokazatelj nedostatak dizajna u aplikaciju ili ih je potrebno da biste prešli na premium servis koji nudi namjenski hardvera.  
  * Razmislite o mjerenje i zapisivanje Ukupno vrijeme potrebno za operacije koje uključuju pokušaj mehanizam. Ovo je dobar pokazatelj cjelokupan učinak tranzitne kvarove na vrijeme odaziva korisnika, Latencija postupak i učinkovitosti slučajeva za korištenje aplikacije. Također zapisnika broj ponovne pokušaje došlo je do da biste razumjeli čimbenici koji pridonio vrijeme odaziva.
  * Razmislite o implementacije u telemetrijskih i nadzor sustav koji mogu inicirati upozorenja kada je broj i brzina pogrešaka, Prosječan broj ponovne pokušaje ili povećava cjelokupan vremena snimanja za operacije da biste uspije.
* **Upravljanje operacije koje neprestano uspjeti:**
  * Bit će slučajeva gdje operacija nastavlja neuspjeh pri svakoj pokušaj i ključan treba uzeti u obzir kako će obrađivati tom slučaju:
      * Iako pokušaj strategija će definirati maksimalni broj puta koja se treba ponoviti postupak, ne sprječava aplikacije ponavljajuće postupak, s istim brojem ponovne pokušaje. Na primjer, ne uspijete reda usluga obrade s kobne pogreške koja je trajno stavlja iz akciju, strategije pokušaj može prepoznati vremensko ograničenje veze i preporučuje se da bi bio tranzitne kvara. Kod će pokušajte operacije na navedeni broj puta, a zatim dodijelite prema gore. No kada drugi kupac naruči, postupak će se pokušati izvesti ponovno - čak i ako je li uvoza svaki put.
      * Da biste spriječili neprekinutog ponovne pokušaje za operacije koje ne prođu neprestano, razmislite o implementacijom [elektronička prepoznavanje uzorka](http://msdn.microsoft.com/library/dn589784.aspx). U ovaj uzorak ako broj neuspjelih unutar prozora za određeni vremenski premašuje prag, zahtjevi za vraćaju pozivatelj odmah kao pogreške, bez pristupanja nije uspjelo resursa ili servis.
      * Aplikaciju možete testirati povremeno servisa, na osnovi Povremeni i s vrlo dugo intervalima između zahtjeva za otkrivanje kad postane dostupan. Odgovarajući interval ovise o scenariju, kao što su kritičnosti postupak i prirode servisa, i možda ništa između nekoliko minuta i nekoliko sati. U točki gdje Provjera uspješna, aplikacija možete nastaviti normalno operacije i prosljeđivanje zahtjeva za servis upravo oporavljene.
      * U aplikacijom moguće smanjenja druga instanca servisa (možda u različitim podatkovnog centra ili aplikacija), koristite slične servis koji nudi kompatibilne (možda jednostavniji) funkcije ili izvršiti neke druge operacije u Nadam da da servis više neće biti dostupne uskoro. Na primjer, možda je pravo vrijeme za pohranu zahtjeva za uslugu u redu čekanja ili podataka pohranu i ponavljanje ih kasnije. Inače možda ćete moći preusmjeravanje korisnika na drugu instancu programa, slabije performanse aplikacije, ali i dalje ponuda prihvatljiva funkcionalnost ili samo povrata izlaganje poruke da biste korisnika koji označava aplikacija nije dostupna u.

* **Druge napomene**
  * Pri odabiru vrijednosti za broj ponovne pokušaje i pokušajte ponovno intervale za pravila, razmislite o ako je dio operacije dugoročnih ili više koraka operacija na servis ili resurs. Može biti teško ili skupi vaše sve operativnih koraka koji ste već uspješno neki neće uspjeti. U ovom slučaju vrlo dugi interval i velikog broja ponovne pokušaje mogu biti prihvatljiva sve dok se ne blokira ostalih operacija tako da držite ili zaključavanja scarce resursi.
  * Preporučujemo ako ponovni isti postupak može uzrokovati nedosljednosti u podacima. Ako neki dijelovi više koraka koji se ponavljaju, a operacije nisu idempotent, on može uzrokovati nesukladnost. Ako, na primjer, postupak koji se povećava vrijednosti, ako se ponavlja, će stvoriti neispravni rezultat. Ponavljajuća operacija koja se šalje poruku u red može uzrokovati nesukladnost u korisničke poruke ako ga ne može otkriti duplicirane poruke. Da biste spriječili, provjerite je li dizajniranja svakog koraka kao operaciju idempotent. Dodatne informacije o idempotency potražite u članku [Idempotency uzoraka](http://blog.jonathanoliver.com/2010/04/idempotency-patterns/).
  * Razmislite o opsega operacije koje će se ponoviti. Na primjer, možda ćete lakše implementirati kod Ponovi na razini koji obuhvaća nekoliko postupaka i ponovite sve ih ne uspijete jedan. Međutim, to može uzrokovati idempotency problema ili nepotrebne vraćanje operacije.
  * Ako odaberete Ponovi doseg koji obuhvaća nekoliko postupaka, uzmete u obzir Ukupna Latencija svih ih prilikom određivanja intervalima pokušaj kada vrijeme potrebno za nadzor i prije prilikom otvaranja okvira podešavanje upozorenja za pogreške.
  * Razmislite o kako strategije pokušaj može utjecati na susjeda i drugim korisnicima u zajedničke aplikacije ili prilikom korištenja zajedničke resurse i usluge. Pravila Ponovi snažna postavka mogu prouzročiti rastuće broj tranzitne kvarove pojavljivati za druge korisnike i za aplikacije koje resursima i uslugama za zajedničko korištenje. Isto tako, aplikacija može utjecati pravila Ponovi implementirana drugi korisnici resurse i usluga. Zaštita njihove privatnosti ovise ključnih aplikacijama odlučite koristiti premium servise koji se zajednički koriste. Ovo vam omogućuje znatno veću kontrolu nad opterećenja i consequent ograničavanje ovih resursa i servise, koji omogućuje obostrano dodatni trošak.

## <a name="more-information"></a>Dodatne informacije

* [Smjernice za Azure pokušaj specifične za servis](best-practices-retry-service-specific.md)
* [Blokiranje tranzitne kvara rukovanje aplikacije](http://msdn.microsoft.com/library/hh680934.aspx)
* [Prepoznavanje elektronička uzorak](http://msdn.microsoft.com/library/dn589784.aspx)
* [Kompenziranje uzorak transakcije](http://msdn.microsoft.com/library/dn589804.aspx)
* [Uzorci Idempotency](http://blog.jonathanoliver.com/2010/04/idempotency-patterns/)
