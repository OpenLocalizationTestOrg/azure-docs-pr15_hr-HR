<properties
   pageTitle="Kontrolni popis za dostupnost | Microsoft Azure"
   description="Kontrolnog popisa koji sadrži smjernice za dostupnost opasnosti tijekom dizajna."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="masimms"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="availability-checklist"></a>Kontrolni popis za dostupnosti

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="application-design"></a>Dizajniranje aplikacije

- **Izbjegavajte sve jednu točku nije uspjelo.** Sve komponente, usluge, resursa i računalnim instance treba uvesti kao više instanci da biste spriječili utjecaja dostupnost jednu točku nije uspjelo. To obuhvaća Mehanizmi za provjeru autentičnosti. Dizajnirajte aplikacije se može konfigurirati za korištenje više instanci i za automatsko otkrivanje pogrešaka i preusmjerite zahtjeva nije uspjela instance koju platformu ne učinite automatski.
- **Decompose radno opterećenje po različite ugovor o razini usluge.** Ako uslugu sastoji se od ključnih i manje ključnih radnih opterećenja, upravljajte drugačije i navedite značajke usluge i broj instanci zadovoljava preduvjete njihove dostupnosti.
- **Minimiziranje i razumijevanje zavisnosti servisa.** Smanjiti broj različite servise koji se koristi gdje je to moguće i provjerite je li poznavati sve ovisnosti značajka i servis koji postoje u sustavu. Obuhvaća prirode te zavisnosti i utjecaj neuspjeh ili smanjene performanse u svakom od njih cjelokupan aplikaciji. Microsoft se jamčiti barem postotak 99.9 dostupnost za većinu services, ali to znači da svaku dodatnu uslugu aplikacije ovisi potencijalno smanjuje cjelokupan dostupnost SLA sustava postotak 0,1.
- **Dizajniranje zadataka i poruka da je idempotent (sigurno kontrolirani), gdje je to moguće**, pa koji se ponavljaju zahtjeve će uzrokovati probleme. Ako, na primjer, servisa može poslužiti kao potrošača koji rukuje poruke poslane kao zahtjevi od drugih dijelova sustav koji se poslužiti kao proizvođača. Ako korisnik ne uspije nakon obrade poruku, ali prije nego što acknowledging da to bude obrađen, je proizvođač možda pošaljite ponavljanja zahtjev koji se može riješiti u drugoj instanci programa korisnik. Zbog toga, korisnici i operacije oni izvršavanje mora biti idempotent tako da se ponavljajućim prethodno izvedena operacija uopće se ne prikazuje rezultate koji nisu valjani. To može značiti otkrivanje duplikata poruke ili provjera dosljednosti pomoću optimistična Procjena pristup rukovanje sukobe.
- **Koristite broker poruka koji implementira visoke dostupnosti za ključne transakcije.** Mnogo scenariji za pokretanje zadataka ili pristupa servise udaljene koristiti poruke prolaz upute između aplikacija i servisa cilj. Za najbolje performanse aplikacije trebali biste moći poslati poruku, a zatim se vratite obrade zahtjeva za dodatne bez obzira na to čekanje odgovora. Da bi isporuke poruka, razmjenu sustava mora sadržavati visoke dostupnosti. Azure redovima poruka servisa Bus implementirati _barem jednom_ semantiku. To znači da svaka poruka objavljena na u redu čekanja neće se izgubiti, iako duplikata kopije često se isporučuje u određenim uvjetima. Ako je obrade poruke idempotent (vidi na prethodnu stavku), ponavlja isporuke mora biti problem.
- **Dizajn aplikacije za obavljanje slabije** kada Dostizanje ograničenja resursa i preuzimanje odgovarajuće akcije da biste minimizirali učinak na korisnika. U nekim slučajevima opterećenje aplikacije prekoračiti kapacitet jedan ili više dijelova, što uzrokuje smanjene dostupnosti i nije uspjela veze. Skaliranje omogućuju da biste to ćete, ali je može doći do ograničenje nameće Ostali čimbenici, primjerice dostupnost resursa ili troška. Dizajnirati aplikacija tako da u tom slučaju ga možete automatski slabije bez poteškoća. Ako, na primjer, u sustavu za ecommerce, ako podsustavu obrade narudžbi u odjeljku naprezanja (ili još nije potpuno), je možete privremeno onemogućiti istovremeni druge funkcije (kao što su pregledavanje kataloga proizvoda) da biste nastavili. Možda je odgovarajući da biste odgodili zahtjevi za neuspjeh podsustav, primjerice i dalje Omogućivanje kupaca zahtijevate narudžbe, ali ih spremite na noviji obradu kada podsustavu narudžbe dostupna je ponovno.
- **Obavljanje rukovanje događajima brzog neprekidnog rada.** Većina aplikacija morate učiniti različitim radnih opterećenja tijekom vremena, kao što su peaks prva stvar u Jutro u poslovnoj aplikaciji ili kada se novi proizvod je u web-mjesto sustava ecommerce. Automatsko skaliranje mogu pomoći za rukovanje opterećenja, ali može potrajati neko vrijeme za dodatne instance prijavi i rukovanja zahtjevima. Spriječiti zbunili aplikacije iznenadno i neočekivanim bursts aktivnosti: dizajniranje zahtjeve reda čekanja na servise koji se koristi za i slabije bez poteškoća kada su redova near to puni kapacitet. Provjerite ima li dovoljno performanse i kapaciteta odjeljcima neprekidnog-rada uvjete za praznite redovima i rukovanja preostala zahtjevima. Dodatne informacije potražite u članku [utemeljen na red uzorak Leveling Učitaj](https://msdn.microsoft.com/library/dn589783.aspx).

## <a name="deployment-and-maintenance"></a>Uvođenje i održavanje

- **Implementacija više instanci uloge za svaki servis.** Microsoft provjerava dostupnost jamstva za servise koje stvorite i implementirajte, no ti jamstva vrijede samo ako pokrenete barem dvije instance programa ulogama u servisu. Time se omogućuje jednu ulogu želite da bude dostupna dok drugi aktivna. To je osobito Važno Ako vam je potrebna za implementaciju ažuriranja uživo sustav bez prekida aktivnosti klijenata; instance možete snimanja prema dolje i nadograditi pojedinačno dok na druge nastaviti putem Interneta.
- **Glavno računalo aplikacije u više podatkovnim centrima.** Iako iznimno vjerojatno moguće je za cijelo podatkovnog centra u izvanmrežni kroz događaja kao što je prirodnim Izrada ili Internet pogreške. Ključni poslovnih aplikacija moraju se nalaziti u više od jednog podatkovnog centra možete unijeti maksimalno dostupnost. To možete smanjiti Latencija za lokalne korisnike te pronaći dodatne njegova korištenja fleksibilnost prilikom ažuriranja aplikacije.
- **Automatizacija i testiranje implementacije i održavanje zadaci.** Raspodijeljeno aplikacije se sastoje od više dijelova koje morate funkcioniraju zajedno. Uvođenje treba stoga se automatski, pomoću testirano i dokazana mehanizme kao što su skripte i implementaciju aplikacija. To ažuriranje i provjerili valjanost konfiguracije i automatizirati postupak implementacije. Automatiziranog tehnike moraju se koristiti i za ažuriranja sve ili dijelove aplikacija. Je ključan da biste testirali svi ti postupci potpuno da biste bili sigurni pogreške uzrokovati dodatne isključiti. Sve alate za implementaciju morate imati odgovarajuću sigurnosnih ograničenja za zaštitu distribuiranih aplikaciju; Definiranje i pažljivo provođenju pravila uvođenja i minimiziranje potrebe za Ljudski intervencije.
- **Razmislite o korištenju značajke platforme pripremna i radnih** gdje su oni dostupni. Ako, na primjer, servise u Oblaku Azure pripremna i radnog okruženja u kojima se omogućuje aplikacije za promjenu iz jedne u drugu trenutačno putem virtualne zamjena IP adrese (VIP zamjena). Međutim, ako biste radije faze informacije o lokalnom ili istodobno uvesti različite verzije aplikacije i postupno migriranje korisnika, ne možda ćete moći koristiti operacije VIP Zamijeni.
- **Primijeni promjene konfiguracije bez recikliranje** instancu kada je to moguće. U mnogim slučajevima konfiguracijske postavke za Azure aplikaciju ili servis mogu se promijeniti bez ulogu želite ponovno pokrenuti. Uloga izložiti događaja koji se može riješiti za otkrivanje promjene konfiguracije i njihove primjene komponente u aplikaciji. Međutim, neke promjene postavki za platforme core zahtijevaju ulogu želite ponovno pokrenuti. Kada sastavljanjem komponente i servise, maksimiziranje dostupnosti, a minimizirali prekid u radu s dizajniranjem ih da biste prihvatili promjene postavki konfiguriranje bez aplikacije cijela ponovno pokrenuti.
- **Korištenje nadogradnje domena za nula nedostupnost tijekom ažuriranja.** Azure izračunati jedinice kao što je web i su dodijeliti uloge suradnika nadograditi domene. Nadogradite domene grupe uloga instance pa se, kada rolling ažuriranje odvija ulogama u nadogradnje domene je zaustavljeno, ažurirati i ponovno pokrenuti u nizu. Time se smanjuje utjecaj na dostupnost aplikacije. Možete odrediti koliko Nadogradnja domene treba kreirati za uslugu kada je servis implementiran.

    > [AZURE.NOTE] Uloge i raspodijeliti kvara domena, od kojih svaka ovisi o razumno s drugih domena kvara pomoću poslužitelja za bicikle, snagu i hlađenje dodjele resursa, da biste minimizirali izgledi pogreške utječe na sve instance uloge. Ta se distribucija pojavljuje se automatski, a ne može se odrediti.

- **Konfiguriranje dostupnosti skupovi za Azure virtualnim računalima.** Smještanje dva ili više virtualnim strojevima u istom dostupnosti skupa jamčiti da te virtualnim strojevima će biti implementirano u istu domenu kvara. Da biste maksimizirali dostupnost, stvaranje više instanci svaki od ključne važnosti virtualnog računala koristi sustav i postavite ove instance unutar istog dostupnosti skupa. Ako koristite više virtualnim strojevima koji vam poslužiti različite svrhe, stvorite raspoloživost postaviti za svaki virtualnog računala. Dodajte pojavljivanja svaki virtualnog računala svaki skup dostupnost. Na primjer, ako ste stvorili zasebnom virtualnim strojevima će poslužiti kao web-poslužitelj i izvješćivanja poslužitelj, stvorite raspoloživost za web-poslužitelj i drugi dostupnosti za izvješćivanje poslužitelja. Dodajte instance web server virtualnog računala na poslužitelju dostupnost web postaviti i dodati instanci izvješćivanja virtualnog računala poslužitelja izvješćivanja skup dostupnost poslužitelja.

## <a name="data-management"></a>Upravljanje podacima

- **Iskoristite prednost replikacije podataka** kroz lokalne i zemljopisnim zalihosti. Podatke u Azure prostora za pohranu automatski replicirati da biste zaštitili od gubitka u slučaju infrastrukture, a neke aspekte ovaj replikacije moguće je konfigurirati. Samo za čitanje kopije podataka, na primjer, možda je replicirati na više od jedne zemljopisnom području (naziva se globalno suvišnih prostora za pohranu pristup za čitanje ili RA GRS). Imajte na umu da pomoću RA GRS uključuje naknade za dodatne. Detalje potražite u članku [Cijene za Azure prostora za pohranu](https://azure.microsoft.com/pricing/details/storage/).
- **Korištenje optimistična Procjena istodobnosti i usmjerenog dosljednost** gdje je to moguće. Transakcije blokiranje pristupa resursima kroz zaključavanje (pesimistična Procjena istodobnosti) može uzrokovati slabe performanse i znatno smanjiti dostupnost. Te probleme može postati osobito akutom u raspodijeljeno sustavima. U mnogim slučajevima oprezni dizajna i tehnika kojima se kao što su particija rješenje smanjite vjerojatno sukobljenih ažuriranja koje su se pojavile. Gdje je podataka je replicirati ili je za čitanje u trgovini zasebno ažurirane, podataka bit će samo naposljetku dosljedni. No prednosti obično daleko su utjecaj na dostupnost korištenja transakcije da biste bili sigurni izvršnog dosljednost.
- **Korištenje periodičku sigurnosnog kopiranja i vraćanja točke u vrijeme**, i Provjerite zadovoljava za oporavak pokažite cilj (RPO). Redovito automatski sigurnosno kopiranje podataka koji nije sačuvan drugdje i provjerite je li možete kvalitetno vratiti podatke i same aplikacije treba pojaviti pogreška. Podataka replikacija nije sigurnosne kopije značajka jer pogrešaka i nedosljednosti uvedene kroz pogrešku, pogreška ili zlonamjernih operacije će je replicirati preko sve trgovine. Postupak sigurnosnog kopiranja mora biti sigurne za zaštitu podataka na putu i u prostor za pohranu. Baza podataka ili dijelove spremišta podataka obično može oporaviti prethodne točke u vremenu pomoću zapisnika transakcije. Microsoft Azure sadrži sigurnosne kopije funkcijom za podatke pohranjene u bazi podataka SQL Azure. Podatke izvozi se sigurnosno kopiranje paket na blobova platforme Azure, a mogu se preuzeti sigurne lokalnog mjesto za pohranu.
- **Omogućiti mogućnost visoke dostupnosti da biste zadržali kopiju sekundarne predmemoriju za Azure Redis.** Prilikom korištenja Azure Redis predmemorije, odaberite standardnu mogućnost da biste zadržali kopiju sekundarne sadržaja. Dodatne informacije potražite u članku [Stvaranje predmemorije u predmemoriji Redis Azure](https://msdn.microsoft.com/library/dn690516.aspx).

## <a name="errors-and-failures"></a>Pogreške i pogreške

- **Predstavljanje pojam vremenskog ograničenja.** Usluge i resurse mogu postati nedostupne uzrokuje zahtjevi za neće uspjeti. Provjerite jesu li vremensko ograničenje primjenjujete prikladna za svaku uslugu ili resurs li te klijenta koji je pristupanje njima. (U nekim slučajevima možda ćete odgovarajuće dopustili dulje vrijeme čekanja za instancu klijent, ovisno o kontekstu i druge akcije koji izvršava klijent.) Vrlo kratak vremensko ograničenje može uzrokovati viškom Pokušaj operacije za usluge i resurse koji imaju dosta Latencija. Dugo vremensko ograničenje mogu prouzročiti blokiranje ako je u redu čekanja velik broj zahtjeva, čekanje usluge ili resursa za odgovor.
- **Ponovno uzrokovanih tranzitne kvarove operacije.** Dizajniranje pokušaj strategiju za pristup svim servisima i ponovite resursi gdje se čini podržava automatsko povezivanje. Pomoću strategije koja obuhvaća rastuće odgode između ponovne pokušaje kao broj neuspjeha povećava, da biste spriječili preopterećenje resursa i dopustili da bez poteškoća oporavak i obradu zahtjeva u redu čekanja. Neprekinutog ponovne pokušaje s kratkog kašnjenja vjerojatno exacerbate problem.
- **Obustaviti slanje zahtjeva za da biste izbjegli kaskadnih pogreške** prilikom servise udaljene nisu dostupne. Možda postoje situacije u kojima prolaznim ili druge kvarove rasponu u težinu iz djelomično izgubiti povezivanje potpuni neuspjeh servisa trajati dulje nego je očekivano da biste se vratili na normalni. Uz to, ako vrlo zauzet servisa, neuspješna instalacija u jedan dio sustava može dovesti do kaskadnih pogreške i rezultirati puno operacija postanete blokirane držeći premjestite ključnih sistemske resurse kao što su memorije, niti i veze baze podataka. Umjesto neprestano ponovni postupak koji je vjerojatno neće biti uspješan, aplikacija brzo mora prihvatiti operacija nije uspjela i obavljanje rukovati tog problema. Prepoznavanje elektronička uzorak možete koristiti da biste odbacili zahtjeva za određene operacije za definirani razdoblja. Dodatne informacije potražite u članku [Elektronička prepoznavanje uzorka](https://msdn.microsoft.com/library/dn589784.aspx).
- **Sastavljanje ili jesen natrag na više komponenti** u smanjenju utjecaj određenu uslugu u tijeku izvanmrežni ili nije dostupan. Dizajnirajte aplikacije da iskoristite prednost više instanci bez utječe postupak i postojeće veze, gdje je to moguće. Koristite više instanci i distribucija zahtjeva između njih, i otkrivanje i izbjegavajte slanja zahtjeva nije uspjelo instance da bi se Maksimiziranje dostupnost.
- **Jesenja natrag na drugi servis ili tijeka rada** kada je to moguće. Ako, na primjer, ako pisanje SQL bazu podataka ne uspije, privremeno spremiti podatke u spremište blobova platforme. Navedite funkciju na ponavljanje zapisivanja u spremište blobova platforme s bazom podataka SQL kada servis postane dostupna. U nekim slučajevima nije uspjelo operacija možda alternativnu akciju koja omogućuje aplikacije da biste nastavili raditi čak i kada je komponenta ili usluga ne uspije. Ako je to moguće, otkrivanje pogrešaka i preusmjeravanje zahtjeve za ostale servise koje nude odgovarajuću druge funkcije ili za sigurnosno kopiranje ili sa smanjenom funkcionalnošću instance koje možete održavati core operacije dok je servis primarni izvan mreže.

## <a name="monitoring-and-disaster-recovery"></a>Nadzor i Izrada oporavak

- **Pruži obogaćenim instrumentation vjerojatno pogreške i pogreške događaja** da biste prijavili situacija za osoblje operacije. Za pogreške koje je vjerojatnost, ali niste još došlo je do, daju potrebne podatke da biste omogućili osoblje operacije da biste odredili uzrok, prevladavanje situaciji i provjerite je li ostati u sustavu. Pogreške koje se već dogodili aplikacija treba vraćaju poruku pogreške odgovarajuće korisniku, ali pokušaj nastavka pokrenut, koriste Premda je sa smanjenom funkcionalnošću. U svakom slučaju, trebali biste nadzornim sustavom snimiti potpun detalje da biste omogućili operacije članovi drugog osoblja efekta brzi oporavak, i ako je potrebno, dizajnerima i razvojnim da biste izmijenili sustav da biste spriječili situacija iz neki ponovno.
- **Nadzor općeg stanja implementacijom provjeru funkcije.** Stanje i performanse aplikacije slabije možete s vremenom pritom ne bude uočljivijih dok ne uspijeva. Implementacija probes ili pak funkcije koje se provode redovito iz izvan aplikacije. Te su provjere može biti jednostavan mjerenje reakcija za aplikaciju kao cjelinu, za pojedinačne dijelove aplikacija, za pojedinačne servise koje koristi aplikacija ili za pojedinačne komponente. Provjerite funkcije možete izvršiti procesa da bi se daju valjane rezultate, mjerenje Latencija i Provjera dostupnosti i izdvajanje podataka iz sustava.
- Da biste bili sigurni su dostupne i raditi na očekivani način **redovito testirati sve prebacivanje i pričuvni sustavi** . Promjene sustavi i operacije može utjecati na prebacivanje i pričuvni funkcije, ali utjecaj se ne može otkriti dok glavni sustava ne uspije ili postaje prepun. Testirajte prije potreban je za vaše uživo problema prilikom izvođenja.
- **Testirajte sustavi za nadzor.** Automatsko prebacivanje i pričuvni sustavi i ručno vizualizacije općem stanju sustava i performansama pomoću nadzornih ploča, sve ovise o nadzor i instrumentation funkcionira ispravno. Ako tih elemenata neće uspjeti ključnih informacija neuspješnih pronalaženja objekata ili izvješća netočnih podataka, operator možda i ne znaju da je sustav dobro ili ne uspijeva.
- **Praćenje napretka dugoročnih tijekovi rada** i pokušaja nije uspjelo. Tijekovi rada dugoročnih često se sastoje od više korake. Provjerite je li svaki korak neovisan je, a možete pokušati da biste minimizirali vjerojatnost da će morati vraćen cijeli tijek rada ili da više compensating transakcije moraju izvršiti. Nadzor i upravljanje tijeku tijekova rada dugoročnih implementacijom uzorak kao što je [Raspored Agent nadzornik uzorka](https://msdn.microsoft.com/library/dn589780.aspx).
- **Plan za oporavak Izrada.** Provjerite je li je dokumentirane prihvaćenom i potpuno testirano plan za oporavak od bilo koju vrstu pogreške koje se mogu prikazati dio ili sve glavni sustava nije dostupan. Testirajte postupke redovito i provjerite jesu li sve operacije osoblje upoznati s postupkom.
